-- testers
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Players = game:GetService("Players")
local RepStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Lighting = game:GetService("Lighting")
local UIS = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local humanoid = char:WaitForChild("Humanoid")
local PlayerStats = player:WaitForChild("PlayerStats")
local bp = PlayerStats:WaitForChild("Blueprints")
local Stats = char:FindFirstChild("Stats")
local Stamina = Stats and Stats:FindFirstChild("Stamina")
local CombatStamina = Stats and Stats:FindFirstChild("CombatStamina")
local ClashStrength = Stats and Stats:FindFirstChild("ClashStrength")
local RunSpeed = Stats and Stats:FindFirstChild("RunSpeed")
local CanRun = Stats and Stats:FindFirstChild("CanRun")
local CanEquipItems = Stats and Stats:FindFirstChild("CanEquipItems")
local CrouchSpeed = Stats and Stats:FindFirstChild("CrouchSpeed")
local Remotes = RepStorage:WaitForChild("GameStuff"):WaitForChild("Remotes")
local Cam = Workspace.CurrentCamera
local AIFolder = Workspace:WaitForChild("Misc"):WaitForChild("AI")

local StaminaConn, CombatConn, ClashConn = nil, nil, nil
local cooldown, lastPress, prevValues = 0.2, 0, {}
local CharAddedConn = nil
local VirtualInputManager = nil
local Connections = {}

local AdonisPressed = false
local InfStaminaEnabled = false
local InfCombatEnabled = false
local ClashWinEnabled = false
local pressed = false
local triggered = false

--Helpers
local function Clear(name)
    if Connections[name] then
        Connections[name]:Disconnect()
        Connections[name] = nil
    end
end

local function getAttr(model, attr)
    local ok, val = pcall(model.GetAttribute, model, attr)
    return ok and val or nil
end

local function NotifyAboutVirtual()
    if not VirtualInputManager then
        Rayfield:Notify({
            Title = "VirtualInputManager not loaded",
            Content = "Make sure you pressed Adonis AntiCheat Bypass button",
            Duration = 15,
            Image = "keyboard"
        })
    end
end
-- I honestly donâ€™t care if someone steals or uses this script. Use it however you want.

--Unitilize
task.spawn(function()
    while not AdonisPressed do
        task.wait(0.1)
    end
    task.wait(0.2)
    VirtualInputManager = game:GetService("VirtualInputManager")
    print("VirtualInputManager loaded!")
end)

local Window = Rayfield:CreateWindow({
   Name = "Chain 1.3",
   Icon = 0,
   LoadingTitle = "Injecting...",
   LoadingSubtitle = "by unknown?",
   ShowText = "Rayfield",
   Theme = "Default",
   ToggleUIKeybind = "K",
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = Chain,
      FileName = "Anti"
   },
   Discord = {
      Enabled = true,
      Invite = "ZHT96ECWQs",
      RememberJoins = true
   },
   KeySystem = false,
   KeySettings = {
      Title = "Untitled",
      Subtitle = "Key System",
      Note = "No method of obtaining the key is provided",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"Hello"}
   }
})

local Tab = Window:CreateTab("Main", 4483362458)

local Label = Tab:CreateLabel("So main tab has like nothing but FullBright,", "clipboard-pen-line")

local Button = Tab:CreateButton({
   Name = "Adonis AntiCheat Bypass",
   Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Pixeluted/adoniscries/refs/heads/main/Source.lua"))()
        AdonisPressed = true
   end,
})

Rayfield:Notify({
   Title = "Faq",
   Content = "Actually made by Anti on dc server not unknown",
   Duration = 15,
   Image = 7488932274
})

local Button = Tab:CreateButton({
    Name = "Copy Discord Invite Link",
    Callback = function()
        setclipboard("discord.gg/ZHT96ECWQs")
        Rayfield:Notify({
            Title = "Invite Link Copied",
            Content = "The Discord invitation has been copied to your clipboard. Share it wisely.",
            Duration = 7,
            Image = 9058466125,
        })
    end,
})

Tab:CreateToggle({
    Name = "Detect All Special Players",
    CurrentValue = false,
    Flag = "DetectAllToggle",
    Callback = function(Value)
        local Players = game:GetService("Players")
        
        local categories = {
            ["Special Thanks"] = {"Mylezeezz", "Sir_Mason13", "jasper_creations", "ItzRoboMaggot", "CyroTr00per"},
            ["Contributer"] = {"JankCorp", "JakeDravioli", "1Boomah"},
            ["Tester"] = {"MikoSfx", "Lgl_frijol", "xF_alse", "FluxedThoughts", "Blackcoolia", "Crinsikle", "HolyBlanks", "mightyasher", "ROV3RRO", "Oce1rosTheConsum3d", "Tsunantt", "Shark_bossx007", "AgentCatto", "ashinvy", "roblox_user_841257226"},
            ["Mod/Admin"] = {"As3tra1", "GetRightDawg", "N0XMANIAC", "Benthesoccerone", "Megamind184", "OrekLus1", "maravilye2312", "euphoria4830", "XHttpkeVin", "ddelus1", "Chromixx_WasTaken"},
            ["Manager"] = {"fraudTheSecond", "IAmUnderAMask"},
            ["Dev"] = {"Yurixzaaa", "SSpreezzy"}
        }

        local targetSet = {}
        for category, users in pairs(categories) do
            for _, userName in ipairs(users) do
                targetSet[userName] = category
            end
        end

        local function notify(playerName, joined)
            local category = targetSet[playerName]
            if category then
                Rayfield:Notify({
                    Title = category .. " Detected",
                    Content = "Detected " .. playerName .. (joined and "has joined" or " in the game."),
                    Duration = 15,
                    Image = 4815660197
                })
            end
        end

        Players.PlayerAdded:Connect(function(player)
            if targetSet[player.Name] then
                notify(player.Name, true)
            end
        end)

        for _, player in Players:GetPlayers() do
            if targetSet[player.Name] then
                notify(player.Name, false)
            end
        end
    end,
})

Tab:CreateButton({
    Name = "No Fog",
    Callback = function()
        Lighting.FogEnd = 1e6
        Lighting:GetPropertyChangedSignal("FogEnd"):Connect(function() Lighting.FogEnd = 1e6 end)
        for _, v in ipairs(Lighting:GetDescendants()) do
            if v:IsA("Atmosphere") then
                v.Density = 0
                v:GetPropertyChangedSignal("Density"):Connect(function() v.Density = 0 end)
            end
        end
        Lighting.DescendantAdded:Connect(function(v)
            if v:IsA("Atmosphere") then
                v.Density = 0
                v:GetPropertyChangedSignal("Density"):Connect(function() v.Density = 0 end)
            end
        end)
    end
})

Tab:CreateButton({
    Name = "Full Bright",
    Callback = function()
        local function apply()
            Lighting.Brightness = 1
            Lighting.ClockTime = 12
            Lighting.FogEnd = 1e6
            Lighting.GlobalShadows = false
            Lighting.Ambient = Color3.fromRGB(178, 178, 178)
        end
        apply()
        Lighting:GetPropertyChangedSignal("Brightness"):Connect(apply)
        Lighting:GetPropertyChangedSignal("ClockTime"):Connect(apply)
        Lighting:GetPropertyChangedSignal("FogEnd"):Connect(apply)
        Lighting:GetPropertyChangedSignal("GlobalShadows"):Connect(apply)
        Lighting:GetPropertyChangedSignal("Ambient"):Connect(apply)
    end
})

local Divider = Tab:CreateDivider()

Tab:CreateButton({
    Name = "See Chat",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/AntiBiotics777/Chain/refs/heads/main/SeeChat(By%20BloxyCola)", true))()
    end,
})

Tab:CreateButton({
    Name = "ThirdPerson",
    Callback = function()
        player.CameraMode = Enum.CameraMode.Classic
        player.CameraMaxZoomDistance = 1000
        player.CameraMinZoomDistance = 0.5
    end,
})

Tab:CreateButton({
    Name = "Remove sack on head",
    Callback = function()
        local sack = char:FindFirstChild("Sack")
        if sack and sack:FindFirstChild("SurfaceAppearance") then
            sack.SurfaceAppearance:Destroy()
        end
    end,
})

Tab:CreateToggle({
    Name = "CanEquipItems",
    CurrentValue = false,
    Flag = "CanEquipToggle",
    Callback = function(on)
        Clear("CanEquipItems")
        if on then
            Connections["CanEquipItems"] = RunService.RenderStepped:Connect(function()
                if CanEquipItems then
                    CanEquipItems.Value = true
                end
            end)
        end
    end,
})

Tab:CreateToggle({
    Name = "BeingClashed - idk its just disables parry finish thing when block anim end",
    CurrentValue = false,
    Flag = "BeingClashedToggle",
    Callback = function(on)
        Clear("BeingClashed")
        if on then
            Connections["BeingClashed"] = RunService.RenderStepped:Connect(function()
                humanoid:SetAttribute("BeingClashed", false)
            end)
        end
    end,
})

local Tab = Window:CreateTab("Gui", "terminal")

Tab:CreateToggle({
    Name = "Deconstructor Gui",
    CurrentValue = false,
    Flag = "DeconstructorToggle",
    Callback = function()
        local gui = player:WaitForChild("PlayerGui"):WaitForChild("Ingame"):WaitForChild("Deconstructor")
        gui.Visible = not gui.Visible
    end
})

Tab:CreateToggle({
    Name = "Workbench Gui",
    CurrentValue = false,
    Flag = "WorkbenchToggle",
    Callback = function()
        local gui = player:WaitForChild("PlayerGui"):WaitForChild("Ingame"):WaitForChild("Workbench")
        gui.Visible = not gui.Visible
    end
})

Tab:CreateToggle({
    Name = "Shop Gui",
    CurrentValue = false,
    Flag = "ShopToggle",
    Callback = function(active)
        local shopGui = player:WaitForChild("PlayerGui"):WaitForChild("Ingame"):WaitForChild("Shop")
        shopGui.Visible = not shopGui.Visible
    end,
})

local Tab = Window:CreateTab("experimental", "flask-conical")

local Label = Tab:CreateLabel("Use it at your own risk it may get detected by server script, Make sure that u removed adonis anticheat, half of these is not working lol", "circle-alert")

Tab:CreateToggle({
    Name = "Anti Longer Dodge CoolDown",
    CurrentValue = false,
    Flag = "AntiLongDodge",
    Callback = function(on)
        Clear("AntiDodge")

        local hiddenNames = {
            ["LongDodgeCD"] = true,
            ["LongerDodgeCD"] = true
        }

        local mt = getrawmetatable(game)
        local oldIndex = mt.__index
        local oldNamecall = mt.__namecall
        local connections = {}
        local hooksEnabled = false

        if on then
            hooksEnabled = true

            setreadonly(mt, false)

            mt.__index = newcclosure(function(self, key)
                if hiddenNames[key] then
                    return nil
                end
                return oldIndex(self, key)
            end)

            mt.__namecall = newcclosure(function(self, ...)
                local method = getnamecallmethod()
                local args = {...}

                if (method == "FindFirstChild" or method == "WaitForChild") and hiddenNames[args[1]] then
                    return nil
                end

                if method == "GetChildren" or method == "GetDescendants" then
                    local result = oldNamecall(self, ...)
                    local filtered = {}
                    for _, obj in ipairs(result) do
                        if not hiddenNames[obj.Name] then
                            table.insert(filtered, obj)
                        end
                    end
                    return filtered
                end

                return oldNamecall(self, ...)
            end)

            setreadonly(mt, true)

            table.insert(connections, game.DescendantAdded:Connect(function(obj)
                if hiddenNames[obj.Name] then
                    task.defer(function()
                        pcall(function() obj:Destroy() end)
                    end)
                end
            end))

            local function attach(char)
                local humanoid = char:WaitForChild("Humanoid")
                Clear("AntiDodge")

                Connections["AntiDodge"] = RunService.RenderStepped:Connect(function()
                    for _, child in ipairs(humanoid:GetChildren()) do
                        if hiddenNames[child.Name] then
                            pcall(function() child:Destroy() end)
                            local cdGui = player.PlayerGui.Ingame.MechanicsFrame.Cooldowns:FindFirstChild(child.Name)
                            if cdGui then
                                cdGui.Visible = false
                            end
                        end
                    end
                end)
            end

            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)

            Connections["AntiDodgeHooks"] = {
                mt = mt,
                oldIndex = oldIndex,
                oldNamecall = oldNamecall,
                conns = connections
            }

        else
            local data = Connections["AntiDodgeHooks"]
            if data then
                setreadonly(data.mt, false)
                data.mt.__index = data.oldIndex
                data.mt.__namecall = data.oldNamecall
                setreadonly(data.mt, true)

                for _, c in ipairs(data.conns) do
                    c:Disconnect()
                end
                Connections["AntiDodgeHooks"] = nil
            end
        end
    end
})

Tab:CreateToggle({
    Name = "Auto Tomahawk QTE & Machete Parry",
    CurrentValue = false,
    Flag = "AutoQTE",
    Callback = function(on)
        if not VirtualInputManager then NotifyAboutVirtual() end
        Clear("AutoQTE")
        if on then
            local function attach()
                local gui = player:WaitForChild("PlayerGui")
                                :WaitForChild("Ingame")
                                :WaitForChild("MechanicsFrame")
                                :WaitForChild("QTEToma")
                local button = gui:WaitForChild("ImageButton")

                Clear("AutoQTE")
                Connections["AutoQTE"] = RunService.RenderStepped:Connect(function()
                    if gui.Visible then
                        local key = button:WaitForChild("PC").Text
                        local enumKey = Enum.KeyCode[key:upper()]
                        if enumKey and VirtualInputManager then
                            task.wait(0.05 + math.random() * 0.02)
                            VirtualInputManager:SendKeyEvent(true, enumKey, false, game)
                            task.wait(0.05)
                            VirtualInputManager:SendKeyEvent(false, enumKey, false, game)
                        end
                    end
                end)
            end
            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "Auto Choke Dodge - recommended to have ping under 200, not accurate",
    CurrentValue = false,
    Flag = "AutoChokeQToggle",
    Callback = function(on)
        Clear("AutoChokeQ")
        if not on then return end
        if not VirtualInputManager then
            NotifyAboutVirtual()
            return
        end
		local function startAutoChoke()
		    Clear("AutoChokeQ")
		    Connections["AutoChokeQ"] = RunService.RenderStepped:Connect(function()
		        for _, ai in pairs(AIFolder:GetChildren()) do
		            if ai:IsA("Model") then
		                local choke, prev = ai:GetAttribute("ChokeMeter"), prevValues[ai]
		                if choke then
		                    local now = tick()
		                    if now - lastPress >= cooldown then
		                        if prev and prev > 70 and choke == 0 then
		                            lastPress = now
									task.wait(0.1)
		                            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Q, false, game)
		                            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Q, false, game)
		                        end
		                    end
		                    prevValues[ai] = choke
		                end
		            end
		        end
		    end)
		end
        startAutoChoke()
        if CharAddedConn then CharAddedConn:Disconnect() end
        CharAddedConn = player.CharacterAdded:Connect(function()
            startAutoChoke()
        end)
    end
})

Tab:CreateToggle({
    Name = "Clash CoolDown Bypass",
    CurrentValue = false,
    Flag = "ClashCD",
    Callback = function(on)
        Clear("ClashBypass")
        if on then
            local function attach(char)
                local humanoid = char:WaitForChild("Humanoid")
                Clear("ClashBypass")
                Connections["ClashBypass"] = RunService.RenderStepped:Connect(function()
                    local clash = humanoid:FindFirstChild("ClashCD")
                    if clash then
                        _G.ClashCD = false
                        if player.PlayerGui:FindFirstChild("Ingame") and player.PlayerGui.Ingame:FindFirstChild("MechanicsFrame") then
                            local cd = player.PlayerGui.Ingame.MechanicsFrame.Cooldowns:FindFirstChild("NoClash")
                            if cd and cd.Visible == true then
                                cd.Text = "Not working [NO CLASH]"
                            end
                        end
                        clash:Destroy()
                    end
                end)
            end
            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "Auto Avoid Chain GroundSlam",
    CurrentValue = false,
    Flag = "AutoSlam",
    Callback = function(on)
        Clear("SlamEvade")
        if on then
            local function attach()
                Clear("SlamEvade")
                Connections["SlamEvade"] = RunService.Heartbeat:Connect(function()
                    local char = player.Character
                    local root = char and char:FindFirstChild("HumanoidRootPart")
                    local humanoid = char and char:FindFirstChildOfClass("Humanoid")
                    if not root or not humanoid then return end
                    if humanoid.Health <= 0 or humanoid:GetState() == Enum.HumanoidStateType.Dead or humanoid.PlatformStand then return end
                    if not workspace:FindFirstChild("AIFolder") then return end

                    for _, chain in ipairs(AIFolder:GetChildren()) do
                        local burst = getAttr(chain, "Burst")
                        local chainRoot = chain:FindFirstChild("HumanoidRootPart")
                        if type(burst) == "number" and burst >= 100 and chainRoot then
                            local diff = root.Position - chainRoot.Position
                            local dist = diff.Magnitude
                            if dist < 40 then
                                local baseDir = diff.Unit
                                local rot = CFrame.Angles(0, math.rad(math.random(-100, 100)), 0)
                                local dir = (rot.LookVector * baseDir.Z + rot.RightVector * baseDir.X).Unit
                                local step = math.clamp(55 - dist * 0.5, 25, 55)
                                local target = root.Position + dir * step + Vector3.new(0, math.random(3, 6), 0)

                                local rayParams = RaycastParams.new()
                                rayParams.FilterType = Enum.RaycastFilterType.Exclude
                                rayParams.FilterDescendantsInstances = {char, AIFolder}
                                rayParams.IgnoreWater = true

                                local hit = workspace:Raycast(root.Position, dir * step, rayParams)
                                if hit then
                                    local n = hit.Normal
                                    dir = (dir - 2 * dir:Dot(n) * n).Unit
                                    target = root.Position + dir * (step * 0.8) + Vector3.new(0, math.random(2, 5), 0)
                                end

                                local zoneRay = workspace:Raycast(target, Vector3.new(0, -6, 0), rayParams)
                                if zoneRay and zoneRay.Instance and zoneRay.Instance.Name:lower():find("slam") then return end

                                local overlapParams = OverlapParams.new()
                                overlapParams.FilterType = Enum.RaycastFilterType.Exclude
                                overlapParams.FilterDescendantsInstances = {char}
                                local overlap = workspace:GetPartBoundsInBox(CFrame.new(target), Vector3.new(4, 6, 4), overlapParams)
                                if #overlap > 0 then return end

                                root.CFrame = CFrame.new(target)
                            end
                        end
                    end
                end)
            end
            attach()
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "Anti No Block",
    CurrentValue = false,
    Flag = "AntiBlock",
    Callback = function(on)
        if not VirtualInputManager then NotifyAboutVirtual() end
        if not on then return Clear("AntiBlock") end
        local player = game.Players.LocalPlayer
        local function attach()
            if Connections["AntiBlock"] then Clear("AntiBlock") end
            Connections["AntiBlock"] = RunService.Heartbeat:Connect(function()
                if _G.parryDisabled then
                    local mt = getrawmetatable(game)
                    setreadonly(mt, false)
                    local oldIndex = mt.__index
                    mt.__index = newcclosure(function(t,k)
                        if k == "Clash" then return true end
                        return oldIndex(t,k)
                    end)
                    setreadonly(mt, true)
                    _G.parryDisabled = false
                    local antibloxk = player.PlayerGui.Ingame.MechanicsFrame.Cooldowns:FindFirstChild("ClashUnavailable")
                    if antibloxk and antibloxk.Visible == true then
                         antibloxk.Text = "Not Working [NO BLOCK]"
                    end
                end
            end)
        end
        attach()
        player.CharacterAdded:Connect(attach)
    end
})

local Tab = Window:CreateTab("Combat", "swords")

local Button = Tab:CreateButton({
   Name = "Button Example",
   Callback = function()
      Player.PlayerStats:GetAttribute("TM_Heavy", nil)
      Player.PlayerStats:GetAttribute("TM_Heavy"):Destroy
      end
   end,
})

Tab:CreateToggle({
    Name = "Infinite Stamina",
    CurrentValue = false,
    Flag = "InfStam",
    Callback = function(on)
        Clear("Stamina")
        if on then
            local function attach(char)
                local stamina = char:WaitForChild("Stats"):WaitForChild("Stamina")
                Clear("Stamina")
                Connections["Stamina"] = RunService.Heartbeat:Connect(function()
                    if stamina.Value < 100 then
                        stamina.Value = 100
                    end
                end)
            end
            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "Inf Combat Stamina",
    CurrentValue = false,
    Flag = "InfCom",
    Callback = function(on)
        Clear("Combat")
        if on then
            local function attach(char)
                local combat = char:WaitForChild("Stats"):WaitForChild("CombatStamina")
                Clear("Combat")
                Connections["Combat"] = RunService.Heartbeat:Connect(function()
                    if combat.Value < 100 then
                        combat.Value = 100
                    end
                end)
            end
            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "ClashWin",
    CurrentValue = false,
    Flag = "ClashS",
    Callback = function(on)
        Clear("Clash")
        if on then
            local function attach(char)
                local clash = char:WaitForChild("Stats"):FindFirstChild("ClashStrength")
                if clash then
                    Clear("Clash")
                    Connections["Clash"] = RunService.Heartbeat:Connect(function()
                        if clash.Value < 100 then
                            clash.Value = 100
                        end
                    end)
                end
            end
            attach(player.Character or player.CharacterAdded:Wait())
            player.CharacterAdded:Connect(attach)
        end
    end
})

Tab:CreateToggle({
    Name = "Aimbot rewrite",
    CurrentValue = false,
    Flag = "Toggle1",
    Callback = function(state)
        if Connections["Aimbot"] then
            for _, conn in ipairs(Connections["Aimbot"]) do
                conn:Disconnect()
            end
            Connections["Aimbot"] = nil
        end

        if state then
            local aiming = false
            local target = nil

            local function attach()
                local inputBegan = UIS.InputBegan:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton2 then
                        aiming = true
                        target = nil
                    end
                end)

                local inputEnded = UIS.InputEnded:Connect(function(input)
                    if input.UserInputType == Enum.UserInputType.MouseButton2 then
                        aiming = false
                    end
                end)

                local heartbeat = RunService.Heartbeat:Connect(function()
                    if aiming then
                        local closestDist = math.huge
                        for _, npc in ipairs(AIFolder:GetChildren()) do
                            local root = npc:FindFirstChild("HumanoidRootPart")
                            if root then
                                local dist = (Cam.CFrame.Position - root.Position).Magnitude
                                if dist < closestDist then
                                    closestDist = dist
                                    target = root
                                end
                            end
                        end

                        if target and target.Parent then
                            Cam.CFrame = CFrame.new(Cam.CFrame.Position, target.Position)
                        end
                    end
                end)

                Connections["Aimbot"] = {inputBegan, inputEnded, heartbeat}
            end

            attach()
            player.CharacterAdded:Connect(attach)
        end
    end
})

local Tab = Window:CreateTab("Miscs", "route")

Tab:CreateToggle({
    Name = "Players ESP",
    CurrentValue = false,
    Flag = "PlayersESP",
    Callback = function(on)
        Clear("PlayersESP")
        if on then
            local function createESP(plr)
                if plr == player then return end
                local function attach(char)
                    if not char:FindFirstChild("ESP_Highlight") then
                        local highlight = Instance.new("Highlight")
                        highlight.Name = "ESP_Highlight"
                        highlight.FillColor = Color3.fromRGB(255, 0, 0)
                        highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
                        highlight.FillTransparency = 0.7
                        highlight.OutlineTransparency = 0
                        highlight.Adornee = char
                        highlight.Parent = char
                    end
                    if not char:FindFirstChild("ESP_Billboard") then
                        local billboard = Instance.new("BillboardGui")
                        billboard.Name = "ESP_Billboard"
                        billboard.AlwaysOnTop = true
                        billboard.Size = UDim2.new(0, 200, 0, 50)
                        billboard.StudsOffset = Vector3.new(0, 3, 0)
                        billboard.Parent = char:WaitForChild("HumanoidRootPart")

                        local label = Instance.new("TextLabel")
                        label.Name = "ESP_Label"
                        label.Size = UDim2.new(1, 0, 1, 0)
                        label.BackgroundTransparency = 1
                        label.TextColor3 = Color3.fromRGB(255, 255, 255)
                        label.TextStrokeTransparency = 0
                        label.Font = Enum.Font.SourceSansBold
                        label.TextScaled = true
                        label.Text = plr.Name
                        label.Parent = billboard
                    end
                end
                if plr.Character then
                    attach(plr.Character)
                end
                plr.CharacterAdded:Connect(function(c)
                    task.wait(1)
                    attach(c)
                end)
            end

            Connections["PlayersESP_Update"] = RunService.RenderStepped:Connect(function()
                for _, plr in ipairs(Players:GetPlayers()) do
                    if plr ~= player and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
                        local billboard = plr.Character:FindFirstChild("HumanoidRootPart"):FindFirstChild("ESP_Billboard")
                        if billboard and billboard:FindFirstChild("ESP_Label") then
                            local dist = (player.Character.HumanoidRootPart.Position - plr.Character.HumanoidRootPart.Position).Magnitude
                            billboard.ESP_Label.Text = string.format("%s - %.0f studs", plr.Name, dist)
                        end
                    end
                end
            end)

            for _, plr in ipairs(Players:GetPlayers()) do
                if plr ~= player then
                    createESP(plr)
                end
            end

            Connections["PlayersESP_Added"] = Players.PlayerAdded:Connect(function(plr)
                createESP(plr)
            end)
        else
            for _, plr in ipairs(Players:GetPlayers()) do
                if plr.Character then
                    if plr.Character:FindFirstChild("ESP_Highlight") then
                        plr.Character.ESP_Highlight:Destroy()
                    end
                    if plr.Character:FindFirstChild("HumanoidRootPart") and plr.Character.HumanoidRootPart:FindFirstChild("ESP_Billboard") then
                        plr.Character.HumanoidRootPart.ESP_Billboard:Destroy()
                    end
                end
            end
            Clear("PlayersESP_Update")
            Clear("PlayersESP_Added")
        end
    end,
})

local Toggle = Tab:CreateToggle({
    Name = "Artifact Espp",
    CurrentValue = false,
    Flag = "ArtifactToggle",
    Callback = function(Value)
        local localPlayer = Players.LocalPlayer

        Clear("ArtifactToggle")
        
        if not Value then
            return
        end

        local character = localPlayer.Character or localPlayer.CharacterAdded:Wait()
        local rootPart = character:WaitForChild("HumanoidRootPart")
        local artifactsFolder = workspace.Misc.Zones.LootingItems.Artifacts

        local guiFolder = Instance.new("Folder")
        guiFolder.Name = "ArtifactESPFolder_" .. tostring(tick())
        guiFolder.Parent = game.CoreGui

        local artifactData = {}

        local function makeDistanceGui(targetPart)
            local billboard = Instance.new("BillboardGui")
            billboard.Name = "ArtifactBillboard_" .. tostring(math.random(100000, 999999))
            billboard.Adornee = targetPart
            billboard.Size = UDim2.new(0, 120, 0, 50)
            billboard.StudsOffset = Vector3.new(0, 2.5, 0)
            billboard.AlwaysOnTop = true

            local label = Instance.new("TextLabel")
            label.BackgroundTransparency = 0.5
            label.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            label.Size = UDim2.new(1, 0, 1, 0)
            label.TextColor3 = Color3.fromRGB(255, 100, 100)
            label.TextStrokeTransparency = 0
            label.TextScaled = true
            label.Font = Enum.Font.GothamBold
            label.Text = "0.0 studs"
            label.Parent = billboard

            billboard.Parent = guiFolder
            return label
        end

        for _, artifact in ipairs(artifactsFolder:GetChildren()) do
            if artifact:IsA("Model") then
                for _, part in ipairs(artifact:GetChildren()) do
                    if part:IsA("MeshPart") then
                        local hl = Instance.new("Highlight")
                        hl.Adornee = part
                        hl.FillColor = Color3.fromRGB(255, 50, 50)
                        hl.OutlineColor = Color3.fromRGB(255, 200, 200)
                        hl.Parent = part

                        local distanceLabel = makeDistanceGui(part)
                        table.insert(artifactData, { Part = part, Label = distanceLabel })
                    end
                end
            end
        end

        Connections["ArtifactToggle"] = RunService.Heartbeat:Connect(function()
            if not localPlayer.Character or not localPlayer.Character:FindFirstChild("HumanoidRootPart") then
                guiFolder:Destroy()
                Clear("ArtifactToggle")
                return
            end

            local root = localPlayer.Character:WaitForChild("HumanoidRootPart")
            for _, data in ipairs(artifactData) do
                if data.Part and data.Part.Parent then
                    local distance = (root.Position - data.Part.Position).Magnitude
                    data.Label.Text = string.format("%.1f studs", distance)
                end
            end
        end)
    end
})

local Toggle = Tab:CreateToggle({
    Name = "Scrap Collector",
    CurrentValue = false,
    Flag = "ScrapCollectorToggle",
    Callback = function(Value)
        loadstring(game:HttpGet("https://raw.githubusercontent.com/BongCloudMaster/CHAIN/main/scrapcollector.lua"))()
    end,
})

local Divider = Tab:CreateDivider()

Tab:CreateButton({
   Name = "Teleport to SafeHouse",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(164.3, -93.4, 229.1)
   end
})

Tab:CreateButton({
   Name = "Teleport to WorkShop Outside",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(132.5, -107.2, -3.0)
   end
})

Tab:CreateButton({
   Name = "Teleport to WorkShop Inside",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(168.2, -102.8, -31.5)
   end
})

Tab:CreateButton({
   Name = "Teleport to Cabin inside",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-323.2, -87.5, 292.0)
   end
})

Tab:CreateButton({
   Name = "Teleport to Shop",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-112.9, -86.5, 205.0)
   end
})

Tab:CreateButton({
   Name = "Teleport to SafeZone",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(41.0608749, -99.1718979, 570.259521)
   end
})

Tab:CreateButton({
   Name = "Teleport to PowerStation",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-209.8, -111.6, -118.7)
   end
})

Tab:CreateButton({
   Name = "Teleport to WareHouse",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(316.0, -112.5, -257.3)
   end
})

Tab:CreateButton({
   Name = "Teleport to Ritual",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-20.1, -108.6, -228.5)
   end
})

Tab:CreateButton({
   Name = "Teleport to LeaderBoard",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(47.1, -97.0, 351.2)
   end
})

Tab:CreateButton({
   Name = "Teleport to Radio Tower",
   Callback = function()
      game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-403.7, -111.5, 45.6)
   end
})

local Divider = Tab:CreateDivider()

Tab:CreateButton({
    Name = "Unlock DoubleBarrel",
    Callback = function()
        if bp and bp:GetAttribute("DoubleBarrel") ~= nil then
            bp:SetAttribute("DoubleBarrel", true)
            print("Unlocked: DoubleBarrel")
        end
    end
})

Tab:CreateButton({
    Name = "Unlock M1911",
    Callback = function()
        if bp and bp:GetAttribute("M1911") ~= nil then
            bp:SetAttribute("M1911", true)
            print("Unlocked: M1911")
        end
    end
})

Tab:CreateButton({
    Name = "Unlock Machete",
    Callback = function()
        if bp and bp:GetAttribute("Machete") ~= nil then
            bp:SetAttribute("Machete", true)
            print("Unlocked: Machete")
        end
    end
})

Tab:CreateButton({
    Name = "Unlock SpellBook",
    Callback = function()
        if bp and bp:GetAttribute("SpellBook") ~= nil then
            bp:SetAttribute("SpellBook", true)
            print("Unlocked: SpellBook")
        end
    end
})

Tab:CreateButton({
    Name = "Unlock CombatKnife",
    Callback = function()
        if bp and bp:GetAttribute("CombatKnife") ~= nil then
            bp:SetAttribute("CombatKnife", true)
            print("Unlocked: CombatKnife")
        end
    end
})


Tab:CreateButton({
    Name = "Unlock all blueprints",
    Callback = function()
        for _, weapon in ipairs({ "CombatKnife","DoubleBarrel","M1911","Machete","SpellBook" }) do
            if bp:GetAttribute(weapon) ~= nil then
                bp:SetAttribute(weapon, true)
                print("Unlocked: " .. weapon)
            else
                print("Attribute '" .. weapon .. "' not found.")
            end
        end
    end
})

local Tab = Window:CreateTab("Render", "shield")

Tab:CreateButton({
   Name = "Scrap Esp - not mine",
   Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/BongCloudMaster/CHAIN/main/scrap%20esp.lua"))()
   end,
})

Tab:CreateButton({
   Name = "Chain Esp - not mine",
   Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/AntiBiotics777/Chain/refs/heads/main/Esp"))()
   end,
})

local NewFunction = loadstring(game:HttpGet('https://raw.githubusercontent.com/AntiBiotics777/Chain/refs/heads/main/Scrapped'))() -- Why obfuscated? Scrapped. Originally meant to handle connections and was supposed to be added ages ago, but it doesn't work.
